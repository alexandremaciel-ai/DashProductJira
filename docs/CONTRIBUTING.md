# Guia de Contribui√ß√£o
## Jira Productivity Dashboard

Obrigado por considerar contribuir com o Jira Productivity Dashboard! Este documento fornece diretrizes para contribui√ß√µes que ajudem a manter a qualidade e consist√™ncia do projeto.

---

## ü§ù **Como Contribuir**

### **Tipos de Contribui√ß√£o Bem-vindas**

- üêõ **Bug Reports e Fixes**
- ‚ú® **Novas Funcionalidades**
- üìñ **Melhorias na Documenta√ß√£o**
- üé® **Melhorias de UI/UX**
- ‚ö° **Otimiza√ß√µes de Performance**
- üß™ **Testes Automatizados**
- üåç **Tradu√ß√µes e Localiza√ß√£o**
- üîí **Melhorias de Seguran√ßa**

---

## üöÄ **Primeiros Passos**

### **1. Fork e Clone**
```bash
# Fork o reposit√≥rio no GitHub
# Depois clone seu fork

git clone https://github.com/SEU-USERNAME/jira-dashboard.git
cd jira-dashboard

# Adicione o reposit√≥rio original como upstream
git remote add upstream https://github.com/ORIGINAL-OWNER/jira-dashboard.git
```

### **2. Setup do Ambiente de Desenvolvimento**
```bash
# Instalar depend√™ncias
npm install

# Configurar vari√°veis de ambiente
cp .env.example .env.local
# Edite .env.local com suas configura√ß√µes

# Executar em modo desenvolvimento
npm run dev
```

### **3. Verificar se Tudo Est√° Funcionando**
```bash
# Executar testes
npm test

# Verificar linting
npm run lint

# Fazer build
npm run build
```

---

## üìã **Processo de Contribui√ß√£o**

### **1. Encontrar ou Criar uma Issue**

#### **Para Bug Reports**
- Verifique se j√° n√£o existe uma issue similar
- Use o template de bug report
- Inclua informa√ß√µes detalhadas:
  - Passos para reproduzir
  - Comportamento esperado vs atual
  - Screenshots/GIFs se aplic√°vel
  - Ambiente (browser, vers√£o, OS)

#### **Para Feature Requests**
- Descreva o problema que a feature resolve
- Explique a solu√ß√£o proposta
- Considere alternativas
- Discuta o impacto na UX

### **2. Criar uma Branch**
```bash
# Sempre crie uma branch a partir da main atualizada
git checkout main
git pull upstream main

# Crie uma branch descritiva
git checkout -b feature/nome-da-feature
# ou
git checkout -b fix/descricao-do-bug
# ou
git checkout -b docs/atualizacao-documentacao
```

### **3. Fazer as Mudan√ßas**

#### **C√≥digo**
- Siga as conven√ß√µes de c√≥digo existentes
- Mantenha commits pequenos e focados
- Escreva mensagens de commit descritivas
- Adicione testes para novas funcionalidades
- Atualize a documenta√ß√£o se necess√°rio

#### **Commits**
Use [Conventional Commits](https://conventionalcommits.org/):
```bash
# Tipos v√°lidos
feat: nova funcionalidade
fix: corre√ß√£o de bug
docs: documenta√ß√£o
style: formata√ß√£o, sem mudan√ßas de l√≥gica
refactor: refatora√ß√£o de c√≥digo
test: adi√ß√£o de testes
chore: tarefas de build, config, etc.

# Exemplos
git commit -m "feat: adicionar filtro por priority no dashboard"
git commit -m "fix: corrigir tooltip corrompido no velocity chart"
git commit -m "docs: atualizar guia de instala√ß√£o"
```

### **4. Testes**
```bash
# Executar todos os testes
npm test

# Testes espec√≠ficos
npm test -- --grep "Dashboard"

# Coverage
npm run test:coverage

# E2E tests
npm run test:e2e
```

### **5. Push e Pull Request**
```bash
# Push da sua branch
git push origin feature/nome-da-feature

# Criar Pull Request no GitHub
# Use o template de PR
# Inclua refer√™ncia √† issue (#123)
```

---

## üõ†Ô∏è **Padr√µes de Desenvolvimento**

### **Estrutura de Arquivos**
```
client/src/
‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îú‚îÄ‚îÄ ui/              # Componentes base (shadcn)
‚îÇ   ‚îú‚îÄ‚îÄ charts/          # Gr√°ficos espec√≠ficos
‚îÇ   ‚îî‚îÄ‚îÄ *.tsx            # Componentes de neg√≥cio
‚îú‚îÄ‚îÄ hooks/               # Custom hooks
‚îú‚îÄ‚îÄ lib/                 # Utilit√°rios
‚îú‚îÄ‚îÄ pages/               # P√°ginas da aplica√ß√£o
‚îî‚îÄ‚îÄ types/               # Defini√ß√µes TypeScript
```

### **Conven√ß√µes de Nomenclatura**

#### **Arquivos**
- **Componentes:** `PascalCase.tsx` (ex: `MetricsCard.tsx`)
- **Hooks:** `use-kebab-case.ts` (ex: `use-jira-data.ts`)
- **Utilit√°rios:** `kebab-case.ts` (ex: `export-utils.ts`)
- **P√°ginas:** `kebab-case.tsx` (ex: `project-selection.tsx`)

#### **Vari√°veis e Fun√ß√µes**
```typescript
// camelCase para vari√°veis e fun√ß√µes
const userName = 'Jo√£o';
const getUserData = () => {};

// PascalCase para componentes e tipos
const UserCard = () => {};
interface UserData {}

// UPPERCASE para constantes
const API_BASE_URL = 'https://api.example.com';
```

### **TypeScript**

#### **Interfaces e Types**
```typescript
// Prefira interfaces para objetos extens√≠veis
interface JiraIssue {
  id: string;
  key: string;
  fields: IssueFields;
}

// Use types para unions e computados
type Status = 'todo' | 'inprogress' | 'done';
type IssueWithStatus = JiraIssue & { computedStatus: Status };
```

#### **Props de Componentes**
```typescript
// Sempre tipifique props
interface MetricsCardProps {
  title: string;
  value: string | number;
  change?: number;
  icon: React.ReactNode;
}

// Use export para reutiliza√ß√£o
export function MetricsCard({ title, value, change, icon }: MetricsCardProps) {
  // ...
}
```

### **React Best Practices**

#### **Hooks**
```typescript
// Custom hooks sempre come√ßam com 'use'
export function useJiraData(credentials: JiraCredentials) {
  const [data, setData] = useState<JiraIssue[]>([]);
  
  useEffect(() => {
    // L√≥gica do hook
  }, [credentials]);
  
  return { data, isLoading, error };
}
```

#### **Estado e Effects**
```typescript
// Prefira useState para estado local
const [filters, setFilters] = useState<Filters>(defaultFilters);

// useCallback para fun√ß√µes que s√£o depend√™ncias
const handleFilterChange = useCallback((newFilters: Filters) => {
  setFilters(newFilters);
}, []);

// useMemo para computa√ß√µes pesadas
const computedMetrics = useMemo(() => {
  return calculateMetrics(issues);
}, [issues]);
```

### **Estiliza√ß√£o com Tailwind**

#### **Classes Organizadas**
```typescript
// Organize classes por categoria
const className = cn(
  // Layout
  "flex items-center justify-between",
  // Spacing
  "p-4 gap-2",
  // Colors
  "bg-white text-gray-900",
  // States
  "hover:bg-gray-50 focus:ring-2",
  // Responsive
  "md:p-6 lg:gap-4"
);
```

#### **Componentes Customizados**
```typescript
// Use cn() para combinar classes condicionalmente
import { cn } from "@/lib/utils";

const Button = ({ variant, className, ...props }) => {
  return (
    <button
      className={cn(
        "px-4 py-2 rounded-md font-medium",
        variant === "primary" && "bg-blue-600 text-white",
        variant === "secondary" && "bg-gray-200 text-gray-900",
        className
      )}
      {...props}
    />
  );
};
```

---

## üß™ **Testes**

### **Estrutura de Testes**
```
__tests__/
‚îú‚îÄ‚îÄ components/          # Testes de componentes
‚îú‚îÄ‚îÄ hooks/               # Testes de hooks
‚îú‚îÄ‚îÄ lib/                 # Testes de utilit√°rios
‚îî‚îÄ‚îÄ integration/         # Testes de integra√ß√£o
```

### **Testes de Componentes**
```typescript
// Exemplo: MetricsCard.test.tsx
import { render, screen } from '@testing-library/react';
import { MetricsCard } from '../MetricsCard';

describe('MetricsCard', () => {
  it('should render title and value', () => {
    render(
      <MetricsCard
        title="Tarefas Entregues"
        value={25}
        icon={<div>icon</div>}
        description="Issues conclu√≠das"
      />
    );
    
    expect(screen.getByText('Tarefas Entregues')).toBeInTheDocument();
    expect(screen.getByText('25')).toBeInTheDocument();
  });
  
  it('should show positive change in green', () => {
    render(
      <MetricsCard
        title="Test"
        value={25}
        change={15}
        icon={<div>icon</div>}
        description="Test"
      />
    );
    
    const changeElement = screen.getByText('+15%');
    expect(changeElement).toHaveClass('text-green-600');
  });
});
```

### **Testes de Hooks**
```typescript
// Exemplo: useJiraData.test.ts
import { renderHook, waitFor } from '@testing-library/react';
import { useJiraData } from '../use-jira-data';

describe('useJiraData', () => {
  it('should fetch issues when credentials provided', async () => {
    const credentials = {
      jiraUrl: 'https://test.atlassian.net',
      username: 'test@test.com',
      apiToken: 'token'
    };
    
    const { result } = renderHook(() => 
      useJiraData(credentials, 'TEST', {})
    );
    
    await waitFor(() => {
      expect(result.current.isLoading).toBe(false);
    });
    
    expect(result.current.data).toBeDefined();
  });
});
```

---

## üìù **Documenta√ß√£o**

### **Coment√°rios no C√≥digo**
```typescript
/**
 * Calcula m√©tricas de produtividade baseadas nas issues do Jira
 * @param issues - Array de issues do Jira
 * @param previousPeriodIssues - Issues do per√≠odo anterior para compara√ß√£o
 * @returns Objeto com m√©tricas calculadas e varia√ß√µes percentuais
 */
export function calculateProductivityMetrics(
  issues: JiraIssue[],
  previousPeriodIssues: JiraIssue[]
): ProductivityMetrics {
  // Implementa√ß√£o...
}
```

### **README de Componentes**
Para componentes complexos, adicione documenta√ß√£o:
```typescript
/**
 * CompletionCharts - Sistema de gr√°ficos de conclus√£o
 * 
 * Renderiza 4 abas de gr√°ficos:
 * 1. Conclus√µes - Tarefas conclu√≠das por per√≠odo
 * 2. Velocity - Story points por semana  
 * 3. Cycle Time - Tempo m√©dio por tipo
 * 4. Performance da Equipe - M√©tricas individuais
 * 
 * @example
 * ```tsx
 * <CompletionCharts issues={issues} />
 * ```
 */
```

---

## üîç **Code Review**

### **O que Verificamos**

#### **Funcionalidade**
- ‚úÖ A funcionalidade resolve o problema proposto?
- ‚úÖ N√£o quebra funcionalidades existentes?
- ‚úÖ Est√° testada adequadamente?
- ‚úÖ Performance est√° adequada?

#### **C√≥digo**
- ‚úÖ Segue as conven√ß√µes do projeto?
- ‚úÖ Est√° bem documentado?
- ‚úÖ √â leg√≠vel e mant√≠vel?
- ‚úÖ N√£o tem c√≥digo duplicado?

#### **Seguran√ßa**
- ‚úÖ Input validation adequada?
- ‚úÖ N√£o exp√µe dados sens√≠veis?
- ‚úÖ Segue pr√°ticas de seguran√ßa?

### **Dicas para Reviews**

#### **Para Reviewers**
- üéØ Seja construtivo e educativo
- üéØ Explique o "porqu√™" das sugest√µes
- üéØ Reconhe√ßa bom c√≥digo
- üéØ Foque na funcionalidade, n√£o estilo pessoal

#### **Para Contributors**
- üéØ Seja receptivo ao feedback
- üéØ Pergunte se n√£o entender
- üéØ Teste suas mudan√ßas localmente
- üéØ Mantenha PRs pequenos e focados

---

## üåç **Internacionaliza√ß√£o**

### **Adicionando Novas Tradu√ß√µes**

#### **1. Estrutura de Arquivos**
```
client/src/locales/
‚îú‚îÄ‚îÄ pt-BR.json          # Portugu√™s Brasileiro
‚îú‚îÄ‚îÄ en-US.json          # English (planned)
‚îî‚îÄ‚îÄ es-ES.json          # Espa√±ol (planned)
```

#### **2. Formato de Tradu√ß√£o**
```json
{
  "dashboard": {
    "title": "Dashboard de Produtividade",
    "metrics": {
      "tasksDelivered": "Tarefas Entregues",
      "velocity": "Velocidade",
      "cycleTime": "Cycle Time",
      "bugRate": "Taxa de Bugs"
    }
  }
}
```

#### **3. Uso no C√≥digo**
```typescript
import { useTranslation } from '@/hooks/use-translation';

export function MetricsCard() {
  const { t } = useTranslation();
  
  return (
    <div>
      <h3>{t('dashboard.metrics.tasksDelivered')}</h3>
    </div>
  );
}
```

---

## üì¶ **Gerenciamento de Depend√™ncias**

### **Adicionando Nova Depend√™ncia**
```bash
# Para depend√™ncias de produ√ß√£o
npm install nome-da-biblioteca

# Para depend√™ncias de desenvolvimento
npm install --save-dev nome-da-biblioteca

# Verifique se realmente precisa da depend√™ncia
# Considere alternativas menores
# Documente o motivo no PR
```

### **Atualizando Depend√™ncias**
```bash
# Verificar depend√™ncias outdated
npm outdated

# Atualizar depend√™ncias patch/minor
npm update

# Para major updates, fazer individualmente
npm install nome-da-biblioteca@latest

# Sempre testar ap√≥s atualiza√ß√µes
npm test
```

---

## üêõ **Debug e Troubleshooting**

### **Debug Local**
```bash
# Run com debug logs
DEBUG=* npm run dev

# Debug espec√≠fico
DEBUG=jira-api npm run dev

# Profile de performance
NODE_ENV=development npm run dev --inspect
```

### **Logs √öteis**
```typescript
// Use console.log com namespace
console.log('[DASHBOARD] Loading metrics:', metrics);
console.log('[JIRA-API] Fetching issues for project:', projectKey);

// Para desenvolvimento, use debug condicional
if (process.env.NODE_ENV === 'development') {
  console.log('Debug info:', debugData);
}
```

---

## ‚úÖ **Checklist de PR**

### **Antes de Submeter**
- [ ] C√≥digo segue as conven√ß√µes do projeto
- [ ] Testes adicionados/atualizados
- [ ] Documenta√ß√£o atualizada se necess√°rio
- [ ] Sem warnings de linting
- [ ] Build passa sem erros
- [ ] Funcionalidade testada manualmente
- [ ] Performance verificada
- [ ] Commits seguem Conventional Commits

### **Template de PR**
```markdown
## Descri√ß√£o
Breve descri√ß√£o das mudan√ßas.

## Tipo de Mudan√ßa
- [ ] Bug fix
- [ ] Nova funcionalidade
- [ ] Breaking change
- [ ] Documenta√ß√£o

## Como Testar
1. Fa√ßa X
2. Clique em Y
3. Verifique Z

## Screenshots
(Se aplic√°vel)

## Checklist
- [ ] C√≥digo testado
- [ ] Documenta√ß√£o atualizada
- [ ] Sem warnings
```

---

## üéâ **Reconhecimento**

### **Contributors**
Todos os contributors s√£o reconhecidos:
- üìù Nome no CONTRIBUTORS.md
- üèÜ Badge de contributor
- üíù Men√ß√£o em release notes
- üåü Destaque em redes sociais

### **Tipos de Contribui√ß√£o**
- üíª **Code** - Contribui√ß√µes de c√≥digo
- üìñ **Documentation** - Melhorias na documenta√ß√£o
- üé® **Design** - Melhorias de UI/UX
- üêõ **Bug reports** - Relat√≥rios de bugs
- üí° **Ideas** - Sugest√µes de features
- üåç **Translation** - Tradu√ß√µes

---

## üìû **Precisa de Ajuda?**

### **Canais de Comunica√ß√£o**
- üí¨ **Discord:** [Join our server](https://discord.gg/jira-dashboard)
- üìß **Email:** contribute@jira-dashboard.com
- üìã **GitHub Discussions:** Para perguntas gerais
- üìù **GitHub Issues:** Para bugs e features espec√≠ficos

### **Mentoria**
Novos contributors podem solicitar mentoria:
- üëã Marque sua issue como "good first issue"
- üÜò Use a label "help wanted"
- üéì Participe do programa de mentoria

---

**Obrigado por contribuir! üôè**

*Sua contribui√ß√£o faz a diferen√ßa para equipes de desenvolvimento no mundo todo.*

---

*√öltima atualiza√ß√£o: Julho 2025*